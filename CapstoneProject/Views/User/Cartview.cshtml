@model CapstoneProject.Models.propertyDetail

@{
    ViewBag.Title = "Cartview";
}

@*<h2>Cartview</h2>*@

<div class="container-fluid">
    <div class="row" style="justify-content: center !important; display: flex">
        <div class="container col-md-10" style="float:none;margin:auto">
            @*<h3 style="text-align:center">Property Details</h3>*@

            <div class="card" style="padding: 30px 40px; margin-top: 20px; margin-bottom: 20px; border: none !important; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">

                <form class="form-card">
                    <div class="row">
                        <div class="col-md-3">
                            <h3>
                                <span class="glyphicon glyphicon-chevron-left"></span>
                                <a href="@Url.Action("Index", "User")">
                                    Home
                                </a>
                                @*@Html.ActionLink("Back to Home", "Index")*@
                            </h3>
                        </div>
                        <div class="col-md-6">
                            <h3 style="text-align: center; font-family: 'Poppins', sans-serif;">Property Details</h3>

                            @*<p style="text-align:center">Please complete the requirements below to update details of your user profile</p>*@

                        </div>
                        <div class="col-md-3">
                            <h3 style="text-align:end">
                                <a href="@Url.Action("sendmessage", "User", new { pid = Model.propertyID })" class="btn btn-primary">
                                    Message
                                    <span class="glyphicon glyphicon-envelope"></span>
                                </a>
                                @*@Html.ActionLink("message", "sendmessage", new { pid = Model.propertyID })*@
                            </h3>
                        </div>
                        <hr style="border: 1.5px dashed black" />
                    </div><br />
                    <div class="row">
                        <div class="col-md-10 col-md-offset-1" style="margin-top:30px; margin-bottom:30px">
                            <div class="col-md-5">

                                <!-- Carousel container -->
                                <div id="my-pics" class="carousel slide" data-ride="carousel">

                                    <!-- Indicators -->
                                    @*<ol class="carousel-indicators">
                                            <li data-target="#my-pics" data-slide-to="0" class="active"></li>
                                            <li data-target="#my-pics" data-slide-to="1"></li>
                                            <li data-target="#my-pics" data-slide-to="2"></li>
                                        </ol>*@

                                    <!-- Content -->
                                    <div class="carousel-inner" role="listbox">

                                        @if (Model.imageName != null)
                                        {
                                            string iname = Model.imageName;
                                            char[] seperate = { ',' };
                                            string[] imgarray = iname.Split(seperate);
                                            <div class="item active" data-interval="2000">

                                                <img style="width: 100%; height: 250px;" src="~/Images/@imgarray[0]" />

                                            </div>
                                            int count;
                                            for (count = 1; count < imgarray.Length; count++)
                                            {
                                                <div class="item" data-interval="2000">

                                                    <img style="width: 100%; height: 250px;" src="~/Images/@imgarray[count]" />

                                                </div>
                                            }

                                        }

                                    </div>

                                    <!-- Previous/Next controls -->
                                    <a class="left carousel-control" href="#my-pics" role="button" data-slide="prev">
                                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                                    <a class="right carousel-control" href="#my-pics" role="button" data-slide="next">
                                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                                        <span class="sr-only">Next</span>
                                    </a>





                                </div>
                            </div>
                            <div class="col-md-7">
                                <h3 style="font-family: 'Poppins', sans-serif"><b> @Html.DisplayFor(model => model.propertyName) </b></h3>
                                <hr style="margin-top: 2px; margin-bottom: 5px; border: 1px solid black" />
                                <h5 style="font-family: 'Poppins', sans-serif">

                                    This Entire Property is hosted by <span style="text-transform: capitalize">@Html.DisplayFor(model => model.adminName)</span>

                                </h5>
                                <div class="col-md-12" style="text-align:left; font-size:17px; margin-top:9px; color: dimgray">
                                    <strong>Property Description</strong>
                                </div>
                                <div class="col-md-12" style="color: dimgray">
                                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur
                                </div>
                                <div class="col-md-12" style="margin-top: 12px; padding-left: 0">
                                    <div class="col-md-6" style="padding-left:0">
                                        <h4><span class="glyphicon glyphicon-map-marker"></span> @Html.DisplayFor(model => model.Location)</h4>
                                    </div>
                                    <div class="col-md-6" style="text-align:center">
                                        <h4>
                                            Rating:  @Html.DisplayFor(model => model.Rating) ⭐
                                        </h4>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    @*<div class="col-md-8" style="float:none;margin:auto; margin-top:80px">
                            <h3 style="font-family: 'Poppins', sans-serif; text-align:center">Looking to Reserve this Property?</h3>
                        </div>
                        <p style="text-align:center">Select Check-In & Check-Out dates below and send a request to the property owner</p>*@

                    @*@using (Html.BeginForm("cico", "User", FormMethod.Post, new { enctype = "form-data" }))
                        {
                            @Html.AntiForgeryToken()
                            <div class="col-md-8" style="float:none;margin:auto; margin-top:10px">


                                <hr />
                                <div style="text-align:center">
                                    <h3 style="font-family: 'Poppins', sans-serif">
                                        Price: &#8377;  @Html.DisplayFor(model => model.price) <span class="text-muted" style="font-size: 15px">night</span>
                                    </h3>
                                </div>

                                <div class="form-horizontal">
                                    <hr />
                                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                                    @Html.HiddenFor(model => model.propertyID, new { Value = Model.propertyID })
                                    @Html.HiddenFor(model => model.adminID, new { Value = Model.adminID })
                                    @Html.HiddenFor(moedl => Model.propertyName, new { Value = Model.propertyName })
                                    <div class="form-group">
                                        @Html.LabelFor(model => model.datefrom, htmlAttributes: new { @class = "control-label col-md-3" })
                                        <div class="col-md-9">
                                            @Html.EditorFor(model => model.datefrom, new { htmlAttributes = new { @class = "form-control datefrom", @type = "date", @autoComplete = "off" } })
                                            @Html.ValidationMessageFor(model => model.datefrom, "", new { @class = "text-danger" })
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        @Html.LabelFor(model => model.dateto, htmlAttributes: new { @class = "control-label col-md-3" })
                                        <div class="col-md-9">
                                            @Html.EditorFor(model => model.dateto, new { htmlAttributes = new { @class = "form-control dateto", @type = "date", @autoComplete = "off" } })
                                            @Html.ValidationMessageFor(model => model.dateto, "", new { @class = "text-danger" })
                                        </div>
                                    </div><br />

                                    <div class="form-group">
                                        <div class="col-md-12" style="text-align:center">
                                            <input type="submit" value="Request Reservation" class="btn btn-default" />
                                        </div>
                                    </div>

                                </div>

                        </div>

                        }*@

                </form>
                <div>

                </div>
            </div>
        </div>

    </div>

    <div class="col-md-8" style="float:none;margin:auto; margin-top:80px">
        <h3 style="font-family: 'Poppins', sans-serif; text-align:center">Looking to Reserve this Property?</h3>
    </div>
    <p style="text-align:center">Select Check-In & Check-Out dates below and send a request to the property owner</p>
    @using (Html.BeginForm("cico", "User", FormMethod.Post, new { enctype = "form-data" }))
    {
        @Html.AntiForgeryToken()
        <div class="col-md-8" style="float:none;margin:auto; margin-top:10px">


            <hr />
            <div style="text-align:center">
                <h3 style="font-family: 'Poppins', sans-serif">
                    Price: &#8377;  @Html.DisplayFor(model => model.price) <span class="text-muted" style="font-size: 15px">night</span>
                </h3>
            </div>

            <div class="form-horizontal">
                <hr />
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                @Html.HiddenFor(model => model.propertyID, new { Value = Model.propertyID })
                @Html.HiddenFor(model => model.adminID, new { Value = Model.adminID })
                @Html.HiddenFor(moedl => Model.propertyName, new { Value = Model.propertyName })
                <div class="form-group">
                    @Html.LabelFor(model => model.datefrom, htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.EditorFor(model => model.datefrom, new { htmlAttributes = new { @class = "form-control datefrom", @type = "date", @autoComplete = "off" } })
                        @Html.ValidationMessageFor(model => model.datefrom, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.dateto, htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.EditorFor(model => model.dateto, new { htmlAttributes = new { @class = "form-control dateto", @type = "date", @autoComplete = "off" } })
                        @Html.ValidationMessageFor(model => model.dateto, "", new { @class = "text-danger" })
                    </div>
                </div><br />

                <div class="form-group">
                    <div class="col-md-12" style="text-align:center">
                        <input type="submit" value="Request Reservation" class="btn btn-default" />
                        @Html.Raw(TempData["msg"]);
                    </div>
                </div>

            </div>

        </div>

    }





    @*@Html.ActionLink("message", "sendmessage", new { pid = Model.propertyID })

    <br />
    @Html.ActionLink("new message", "sendchat", new { pid = Model.propertyID })

    <div>
        <h4>propertyDetail</h4>
        <hr />
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.propertyName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.propertyName)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Location)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Location)
            </dd>

            <dd>

                @if (Model.imageName != null)
                {
                    string iname = Model.imageName;
                    char[] seperate = { ',' };
                    string[] imgarray = iname.Split(seperate);
                    foreach (var i in imgarray)
                    {

                        <img src="~/Images/@i" style="width:200px; height:200px">
                    }
                }

            </dd>

            <dd>
                <b>
                    <p> Then Entire <span>  @Html.DisplayFor(model => model.propertyName)</span> is hosted by <span>@Html.DisplayFor(model => model.adminName)</span></p>
                </b>
            </dd>


            <dt>
                @Html.DisplayNameFor(model => model.Rating)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Rating)
            </dd>

        </dl>
    </div>
    <p>
        @Html.ActionLink("Edit", "Edit", new { /* id = Model.PrimaryKey */ }) |
        @Html.ActionLink("Back to List", "Index")
    </p>



    @using (Html.BeginForm("cico", "User", FormMethod.Post, new { enctype = "form-data" }))
    {
        @Html.AntiForgeryToken()

        <hr />

        <div class="form-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.price)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.price) <b><i>night</i></b>
            </dd>
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            @Html.HiddenFor(model => model.propertyID, new { Value = Model.propertyID })
            @Html.HiddenFor(model => model.adminID, new { Value = Model.adminID })
            @Html.HiddenFor(moedl => Model.propertyName, new { Value = Model.propertyName })
            <div class="form-group">
                @Html.LabelFor(model => model.datefrom, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.datefrom, new { htmlAttributes = new { @class = "form-control datefrom", @type = "date", @autoComplete = "off" } })
                    @Html.ValidationMessageFor(model => model.datefrom, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.dateto, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.dateto, new { htmlAttributes = new { @class = "form-control dateto", @type = "date", @autoComplete = "off" } })
                    @Html.ValidationMessageFor(model => model.dateto, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Create" class="btn btn-default" />
                </div>
            </div>
        </div>
    }*@



    <style>
        #my-pics {
            /*width: 300px;
        margin: auto;*/
            /* border: none !important;
        border-radius: 10px;*/
            /*box-shadow: 5px 5px 10px black;*/
        }

        .carousel .item {
            border-radius: 20px;
            background-color: transparent;
            overflow: hidden;
        }

        .carousel-control {
            border-radius: 20px;
            background-image: none !important;
            filter: none !important;
        }
    </style>
